<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Destrave na Hora H - Sua Jornada de Transforma√ß√£o Completa</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* ESTILO BASE E CORES */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #eef2f5 100%);
            line-height: 1.7;
        }
        
        .screen { display: none; }
        .screen.active { display: block; }
        .step-screen { display: none; }
        
        /* ANIMA√á√ïES E TRANSI√á√ïES */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(221, 107, 32, 0.3); }
            50% { box-shadow: 0 0 30px rgba(221, 107, 32, 0.6); }
        }
        
        .animate-fade-in { animation: fadeIn 0.6s ease-out; }
        .animate-slide-in { animation: slideIn 0.8s ease-out; }
        .animate-bounce { animation: bounce 2s infinite; }
        .animate-glow { animation: glow 2s ease-in-out infinite; }
        
        /* COMPONENTES CUSTOMIZADOS */
        .progress-ring {
            transform: rotate(-90deg);
            transition: stroke-dasharray 0.5s ease-in-out;
        }
        
        .mentor-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 1rem;
            padding: 2rem;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .mentor-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .achievement-card {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .achievement-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .achievement-card.unlocked {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            animation: glow 2s ease-in-out infinite;
        }
        
        .superpoder-card {
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-left: 4px solid;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .superpoder-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }
        
        .avatar-container {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        
        .level-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
            color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
        }
        
        .journey-map {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 1rem;
            padding: 2rem;
            color: white;
            position: relative;
        }
        
        .journey-step {
            background: rgba(255,255,255,0.1);
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
        }
        
        .journey-step.completed {
            border-left-color: #10b981;
            background: rgba(16, 185, 129, 0.2);
        }
        
        .journey-step.current {
            border-left-color: #f59e0b;
            background: rgba(245, 158, 11, 0.2);
            animation: glow 2s ease-in-out infinite;
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            transform: scale(0.8);
            transition: transform 0.3s ease;
        }
        
        .modal.active .modal-content {
            transform: scale(1);
        }

        /* ESTILOS DOS 7 PASSOS ORIGINAIS */
        .step-indicator { transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1); }
        .chart-container { position: relative; width: 100%; max-width: 500px; margin: auto; height: auto; min-height: 350px; }
        
        .prose h2 { color: #1a365d; font-weight: 800; margin-bottom: 1.5rem; }
        .prose h3 { margin-bottom: 1rem !important; color: #DD6B20; font-weight: 700; }
        .prose h4 { color: #2C5282; font-weight: 600; margin-bottom: 0.75rem; }
        .prose p { margin-bottom: 1.25rem; color: #2d3748; }
        .prose strong { color: #2B6CB0; }
        .prose blockquote { border-left-color: #F6AD55; background-color: #FFF5EB; }

        .content-section {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #DD6B20;
        }

        .illustration-container {
            text-align: center;
            margin: 2rem 0;
            padding: 1.5rem;
            background: linear-gradient(135deg, #F7FAFC 0%, #EDF2F7 100%);
            border-radius: 1rem;
            border: 1px solid #E2E8F0;
        }

        .story-box {
            background: #F0FFF4;
            border-left: 4px solid #38A169;
            border-radius: 0 0.5rem 0.5rem 0;
            padding: 1.5rem;
            margin: 2rem 0;
            position: relative;
        }
        .story-box::before {
            content: 'üìñ';
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            opacity: 0.5;
        }

        .highlight-box {
            background: #FFF5EB;
            border: 1px solid #F6AD55;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 2rem 0;
            position: relative;
        }
        .highlight-box::before {
            content: 'üí°';
            position: absolute;
            top: -0.75rem;
            left: 1rem;
            background: white;
            padding: 0.25rem 0.5rem;
            border-radius: 50%;
            font-size: 1.25rem;
            border: 1px solid #F6AD55;
        }

        .module-locked {
            opacity: 0.5;
            pointer-events: none;
            position: relative;
        }

        .module-locked::after {
            content: 'üîí M√≥dulo Bloqueado - Clique para inserir senha';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            font-weight: bold;
            text-align: center;
            z-index: 10;
        }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-dark': '#1A202C',
                        'brand-orange': '#DD6B20',
                        'brand-blue': '#2B6CB0',
                        'brand-light': '#F7FAFC',
                        'brand-gray': '#A0AEC0',
                        'brand-success': '#38A169',
                        'brand-purple': '#667eea',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-brand-light text-gray-800">

    <!-- Header com Progresso -->
    <header class="bg-brand-dark shadow-md sticky top-0 z-50">
        <div class="container mx-auto p-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <div class="avatar-container" style="width: 60px; height: 60px; font-size: 1.5rem;">
                    <span id="user-avatar">üöÄ</span>
                    <div class="level-badge" id="user-level">1</div>
                </div>
                <div>
                    <h1 class="text-xl md:text-2xl font-extrabold text-white">Portal Destrave na Hora H</h1>
                    <p class="text-sm text-brand-gray" id="user-status">Novato Explorador</p>
                </div>
            </div>
            <div class="text-right">
                <div class="flex items-center space-x-4">
                    <div class="text-center">
                        <div class="text-2xl font-bold text-white" id="user-points">0</div>
                        <div class="text-xs text-brand-gray">Pontos</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-white" id="user-achievements">0</div>
                        <div class="text-xs text-brand-gray">Conquistas</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-gray-700 h-3">
            <div id="global-progress" class="bg-gradient-to-r from-brand-orange to-yellow-400 h-3 rounded-r-full transition-all duration-500" style="width: 0%;"></div>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8 max-w-6xl">
        
        <!-- Tela de Boas-vindas -->
        <div id="welcome-screen" class="screen active">
            <div class="text-center mb-12 animate-fade-in">
                <div class="w-32 h-32 bg-gradient-to-br from-brand-orange to-yellow-400 rounded-full mx-auto mb-6 flex items-center justify-center animate-bounce">
                    <span class="text-white text-6xl">üéØ</span>
                </div>
                <h2 class="text-5xl font-bold text-brand-dark mb-6">Bem-vindo √† Sua Jornada de Transforma√ß√£o Completa!</h2>
                <p class="text-xl text-gray-600 max-w-4xl mx-auto mb-8">
                    Voc√™ est√° prestes a descobrir e desenvolver seus superpoderes introvertidos atrav√©s de uma jornada estruturada: 3 m√≥dulos iniciais de prepara√ß√£o + 7 passos pr√°ticos de transforma√ß√£o.
                </p>
            </div>
            
            <div class="mentor-card mb-8 animate-slide-in">
                <div class="flex items-center space-x-4 mb-4">
                    <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                        <span class="text-2xl">üë®‚Äçüè´</span>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold">Alex, Seu Mentor</h3>
                        <p class="text-blue-100">Ex-introvertido t√≠mido, hoje comunicador de impacto</p>
                    </div>
                </div>
                <p class="text-lg leading-relaxed">
                    "Ol√°! Eu sou o Alex, e assim como voc√™, j√° fui aquele introvertido que tinha ideias brilhantes mas travava na hora de falar. Hoje, vou te guiar nesta jornada completa: primeiro vamos descobrir seus superpoderes √∫nicos, depois aplic√°-los na pr√°tica atrav√©s dos 7 passos de transforma√ß√£o!"
                </p>
            </div>
            
            <div class="text-center">
                <button onclick="startJourney()" class="bg-gradient-to-r from-brand-success to-green-600 text-white font-bold py-4 px-12 rounded-xl hover:opacity-90 transition-all text-xl shadow-lg animate-glow">
                    INICIAR MINHA JORNADA COMPLETA ‚Üí
                </button>
            </div>
        </div>

        <!-- Dashboard Principal -->
        <div id="dashboard-screen" class="screen">
            <div class="grid lg:grid-cols-3 gap-8">
                
                <!-- Coluna Principal - M√≥dulos e Passos -->
                <div class="lg:col-span-2">
                    <h2 class="text-3xl font-bold text-brand-dark mb-6">Sua Jornada Completa de Transforma√ß√£o</h2>
                    
                    <!-- FASE 1: M√ìDULOS INICIAIS -->
                    <div class="mb-8">
                        <h3 class="text-2xl font-bold text-purple-800 mb-4">üéØ Fase 1: Descoberta dos Superpoderes</h3>
                        
                        <!-- M√≥dulo 1 -->
                        <div id="module-1" class="bg-white rounded-2xl shadow-lg p-6 mb-4 border-l-4 border-blue-500">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center">
                                        <span class="text-2xl">‚ö°</span>
                                    </div>
                                    <div>
                                        <h4 class="text-xl font-bold text-brand-dark">M√≥dulo 1: Desperte Seus Superpoderes</h4>
                                        <p class="text-gray-600">Transforme sua percep√ß√£o sobre introvers√£o</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-2xl font-bold text-blue-600" id="module1-progress">0%</div>
                                    <div class="text-sm text-gray-500">Progresso</div>
                                </div>
                            </div>
                            
                            <div class="space-y-2 mb-4">
                                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="openChapter(1, 1)">
                                    <span class="text-sm">1. Chega de se Achar Menos!</span>
                                    <span class="text-blue-600 font-bold" id="chapter1-1-status">üîì</span>
                                </div>
                                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="openChapter(1, 2)">
                                    <span class="text-sm">2. O Mito do Introvertido Chato</span>
                                    <span class="text-gray-400 font-bold" id="chapter1-2-status">üîí</span>
                                </div>
                                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="openChapter(1, 3)">
                                    <span class="text-sm">3. Seus 5 Superpoderes Secretos</span>
                                    <span class="text-gray-400 font-bold" id="chapter1-3-status">üîí</span>
                                </div>
                            </div>
                            <button onclick="showModuleInteraction(1)" class="w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors" disabled id="module1-interaction-btn">‚ú® Intera√ß√£o Final do M√≥dulo</button>
                        </div>

                        <!-- M√≥dulo 2 -->
                        <div id="module-2" class="bg-white rounded-2xl shadow-lg p-6 mb-4 border-l-4 border-green-500 module-locked" onclick="showPasswordPrompt(2)">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
                                        <span class="text-2xl">üõ†Ô∏è</span>
                                    </div>
                                    <div>
                                        <h4 class="text-xl font-bold text-brand-dark">M√≥dulo 2: Domine o M√©todo Destrave na Hora H‚Ñ¢</h4>
                                        <p class="text-gray-600">Os 3 passos fundamentais para destravar</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-2xl font-bold text-green-600" id="module2-progress">0%</div>
                                    <div class="text-sm text-gray-500">Progresso</div>
                                </div>
                            </div>
                            
                            <div class="space-y-2 mb-4">
                                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="openChapter(2, 1)">
                                    <span class="text-sm">1. Passo 1: A Prepara√ß√£o Invis√≠vel</span>
                                    <span class="text-gray-400 font-bold" id="chapter2-1-status">üîí</span>
                                </div>
                                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="openChapter(2, 2)">
                                    <span class="text-sm">2. Passo 2: O Gatilho da Confian√ßa</span>
                                    <span class="text-gray-400 font-bold" id="chapter2-2-status">üîí</span>
                                </div>
                                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="openChapter(2, 3)">
                                    <span class="text-sm">3. Passo 3: A Execu√ß√£o Magn√©tica</span>
                                    <span class="text-gray-400 font-bold" id="chapter2-3-status">üîí</span>
                                </div>
                            </div>
                            <button onclick="showModuleInteraction(2)" class="w-full bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 transition-colors" disabled id="module2-interaction-btn">‚ú® Intera√ß√£o Final do M√≥dulo</button>
                        </div>

                        <!-- M√≥dulo 3 -->
                        <div id="module-3" class="bg-white rounded-2xl shadow-lg p-6 mb-4 border-l-4 border-yellow-500 module-locked" onclick="showPasswordPrompt(3)">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center">
                                        <span class="text-2xl">üöÄ</span>
                                    </div>
                                    <div>
                                        <h4 class="text-xl font-bold text-brand-dark">M√≥dulo 3: Prepare-se para a Transforma√ß√£o</h4>
                                        <p class="text-gray-600">Consolide seu aprendizado e prepare-se para os 7 passos</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-2xl font-bold text-yellow-600" id="module3-progress">0%</div>
                                    <div class="text-sm text-gray-500">Progresso</div>
                                </div>
                            </div>
                            
                            <div class="space-y-2 mb-4">
                                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="openChapter(3, 1)">
                                    <span class="text-sm">1. Seu Plano de A√ß√£o Personalizado</span>
                                    <span class="text-gray-400 font-bold" id="chapter3-1-status">üîí</span>
                                </div>
                                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="openChapter(3, 2)">
                                    <span class="text-sm">2. Lidando com o Medo do Julgamento</span>
                                    <span class="text-gray-400 font-bold" id="chapter3-2-status">üîí</span>
                                </div>
                            </div>
                            <button onclick="showModuleInteraction(3)" class="w-full bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors" disabled id="module3-interaction-btn">‚ú® Intera√ß√£o Final do M√≥dulo</button>
                        </div>
                    </div>

                    <!-- FASE 2: 7 PASSOS DE TRANSFORMA√á√ÉO -->
                    <div id="seven-steps-container" class="opacity-50 pointer-events-none">
                        <h3 class="text-2xl font-bold text-red-800 mb-4">üî• Fase 2: Os 7 Passos da Transforma√ß√£o</h3>
                        
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <p class="text-center text-gray-600 mb-4">Complete todos os m√≥dulos iniciais para desbloquear esta fase.</p>
                            
                            <!-- Passos 1-7 (original) -->
                            <div class="flex items-start space-x-6">
                                <div class="flex flex-col items-center">
                                    <div class="flex-grow w-1 h-full bg-gray-300"></div>
                                </div>
                                <div class="w-full">
                                    <!-- Passo 1 -->
                                    <div class="mb-8">
                                        <h4 class="text-xl font-bold text-brand-dark">Passo 1: A Virada de Chave</h4>
                                        <p class="text-gray-600">Entenda por que ser introvertido √© um superpoder.</p>
                                    </div>
                                    <!-- Passo 2 -->
                                    <div class="mb-8">
                                        <h4 class="text-xl font-bold text-brand-dark">Passo 2: O Mapa da Empatia</h4>
                                        <p class="text-gray-600">Conecte-se profundamente com as pessoas.</p>
                                    </div>
                                    <!-- Passo 3 -->
                                    <div class="mb-8">
                                        <h4 class="text-xl font-bold text-brand-dark">Passo 3: A Arte da Escuta Ativa</h4>
                                        <p class="text-gray-600">Ou√ßa mais, fale melhor.</p>
                                    </div>
                                    <!-- Passo 4 -->
                                    <div class="mb-8">
                                        <h4 class="text-xl font-bold text-brand-dark">Passo 4: Construindo Pontes</h4>
                                        <p class="text-gray-600">Crie conex√µes genu√≠nas e duradouras.</p>
                                    </div>
                                    <!-- Passo 5 -->
                                    <div class="mb-8">
                                        <h4 class="text-xl font-bold text-brand-dark">Passo 5: O Poder da Pausa</h4>
                                        <p class="text-gray-600">Use o sil√™ncio a seu favor.</p>
                                    </div>
                                    <!-- Passo 6 -->
                                    <div class="mb-8">
                                        <h4 class="text-xl font-bold text-brand-dark">Passo 6: Apresenta√ß√µes Impactantes</h4>
                                        <p class="text-gray-600">Conquiste a plateia com sua autenticidade.</p>
                                    </div>
                                    <!-- Passo 7 -->
                                    <div class="mb-8">
                                        <h4 class="text-xl font-bold text-brand-dark">Passo 7: Celebrando Suas Vit√≥rias</h4>
                                        <p class="text-gray-600">Reconhe√ßa seu progresso e inspire outros.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Coluna Lateral - Perfil e Conquistas -->
                <div class="lg:col-span-1 space-y-8">
                    <!-- Perfil do Usu√°rio -->
                    <div class="bg-white rounded-2xl shadow-lg p-6 text-center">
                        <div class="avatar-container mb-4">
                            <span id="profile-avatar">üöÄ</span>
                            <div class="level-badge" id="profile-level">1</div>
                        </div>
                        <h3 class="text-2xl font-bold text-brand-dark">Seu Progresso</h3>
                        <p class="text-gray-600 mb-4" id="profile-status">Novato Explorador</p>
                        
                        <div class="w-full bg-gray-200 rounded-full h-4 mb-2">
                            <div id="level-progress" class="bg-gradient-to-r from-purple-500 to-indigo-500 h-4 rounded-full" style="width: 0%;"></div>
                        </div>
                        <p class="text-sm text-gray-500" id="level-progress-text">0 / 1000 pontos para o pr√≥ximo n√≠vel</p>
                    </div>

                    <!-- Conquistas -->
                    <div class="bg-white rounded-2xl shadow-lg p-6">
                        <h3 class="text-2xl font-bold text-brand-dark mb-4 text-center">Suas Conquistas</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div id="ach1" class="achievement-card" onclick="showAchievementDetails(1)">
                                <div class="text-4xl mb-2">üéì</div>
                                <p class="text-xs font-bold">Pioneiro</p>
                            </div>
                            <div id="ach2" class="achievement-card" onclick="showAchievementDetails(2)">
                                <div class="text-4xl mb-2">üß†</div>
                                <p class="text-xs font-bold">Mestre do Mindset</p>
                            </div>
                            <div id="ach3" class="achievement-card" onclick="showAchievementDetails(3)">
                                <div class="text-4xl mb-2">üõ†Ô∏è</div>
                                <p class="text-xs font-bold">Arquiteto da Confian√ßa</p>
                            </div>
                            <div id="ach4" class="achievement-card" onclick="showAchievementDetails(4)">
                                <div class="text-4xl mb-2">üöÄ</div>
                                <p class="text-xs font-bold">Pronto para Decolar</p>
                            </div>
                            <div id="ach5" class="achievement-card" onclick="showAchievementDetails(5)">
                                <div class="text-4xl mb-2">üèÜ</div>
                                <p class="text-xs font-bold">Destravado!</p>
                            </div>
                            <div id="ach6" class="achievement-card" onclick="showAchievementDetails(6)">
                                <div class="text-4xl mb-2">‚≠ê</div>
                                <p class="text-xs font-bold">Lenda Introvertida</p>
                            </div>
                        </div>
                    </div>

                    <!-- Mapa da Jornada -->
                    <div class="journey-map">
                        <h3 class="text-2xl font-bold mb-4 text-center">Mapa da Sua Jornada</h3>
                        <div id="journey-steps-container">
                            <!-- Steps ser√£o gerados via JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tela de Conte√∫do do Cap√≠tulo -->
        <div id="chapter-content-screen" class="screen">
            <!-- Conte√∫do ser√° injetado aqui -->
        </div>

        <!-- Tela dos 7 Passos -->
        <div id="seven-steps-screen" class="step-screen">
            <!-- Conte√∫do dos 7 passos aqui -->
        </div>

    </main>

    <!-- Modal Gen√©rico -->
    <div id="generic-modal" class="modal">
        <div class="modal-content max-w-2xl w-full">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-2xl font-bold text-brand-dark"></h3>
                <button onclick="closeModal()" class="text-gray-500 hover:text-gray-800 text-2xl">&times;</button>
            </div>
            <div id="modal-body" class="prose max-w-none">
                <!-- Conte√∫do do modal -->
            </div>
        </div>
    </div>

    <script>
        // ==================================================
        // BANCO DE DADOS E ESTADO DO JOGO
        // ==================================================

        const chapters = {
            // M√≥dulo 1
            '1-1': { 
                title: "Chega de se Achar Menos!", 
                points: 50, 
                completed: false, 
                content: `
                    <div class="content-section">
                        <h3>üéØ Transforme Sua Percep√ß√£o Sobre Introvers√£o</h3>
                        
                        <div class="story-box">
                            <h4>A Hist√≥ria de Ana</h4>
                            <p>Ana sempre se considerou "menos" que seus colegas extrovertidos. Em reuni√µes, ela tinha ideias brilhantes, mas raramente as compartilhava. Achava que sua tend√™ncia a pensar antes de falar era uma fraqueza.</p>
                            <p>At√© o dia em que descobriu que sua capacidade de reflex√£o profunda era exatamente o que sua equipe precisava para resolver problemas complexos.</p>
                        </div>

                        <h4>üß† Por Que Voc√™ N√£o √â "Menos"</h4>
                        <p>A sociedade nos ensinou que ser extrovertido √© melhor. Mas isso √© um mito perigoso que limita seu potencial.</p>
                        
                        <div class="highlight-box">
                            <h4>Verdade Revelada:</h4>
                            <p>Introvertidos processam informa√ß√µes de forma mais profunda, s√£o melhores ouvintes e criam conex√µes mais aut√™nticas. Voc√™ n√£o √© menos - voc√™ √© diferente, e isso √© seu superpoder!</p>
                        </div>

                        <h4>üîÑ Mudan√ßa de Mindset</h4>
                        <p>De hoje em diante, substitua estes pensamentos:</p>
                        <ul>
                            <li>‚ùå "Sou t√≠mido demais" ‚Üí ‚úÖ "Sou reflexivo e cuidadoso"</li>
                            <li>‚ùå "N√£o sei falar em p√∫blico" ‚Üí ‚úÖ "Prefiro comunica√ß√£o aut√™ntica"</li>
                            <li>‚ùå "Sou antissocial" ‚Üí ‚úÖ "Valorizo conex√µes profundas"</li>
                        </ul>

                        <div class="illustration-container">
                            <h4>üé® Visualize Sua Transforma√ß√£o</h4>
                            <p>Imagine-se em uma reuni√£o importante. Em vez de se esconder, voc√™ usa sua capacidade de escuta ativa para entender profundamente o problema. Quando fala, suas palavras t√™m peso e impacto.</p>
                        </div>
                    </div>
                `
            },
            '1-2': { 
                title: "O Mito do Introvertido Chato", 
                points: 70, 
                completed: false, 
                content: `
                    <div class="content-section">
                        <h3>üí• Destruindo Estere√≥tipos Limitantes</h3>
                        
                        <div class="story-box">
                            <h4>O Caso de Carlos</h4>
                            <p>Carlos era conhecido como "o quieto" da empresa. Seus colegas achavam que ele n√£o tinha opini√µes interessantes. At√© que em uma apresenta√ß√£o crucial, ele surpreendeu a todos com insights profundos que salvaram um projeto de milh√µes.</p>
                            <p>A partir daquele dia, todos queriam ouvir o que Carlos tinha a dizer.</p>
                        </div>

                        <h4>üé≠ Os Mitos Que Nos Limitam</h4>
                        <p>Vamos destruir os principais mitos sobre introvertidos:</p>
                        
                        <div class="highlight-box">
                            <h4>Mito vs Realidade:</h4>
                            <ul>
                                <li><strong>Mito:</strong> Introvertidos s√£o chatos ‚Üí <strong>Realidade:</strong> S√£o profundos e interessantes</li>
                                <li><strong>Mito:</strong> N√£o sabem liderar ‚Üí <strong>Realidade:</strong> S√£o l√≠deres emp√°ticos e estrat√©gicos</li>
                                <li><strong>Mito:</strong> N√£o gostam de pessoas ‚Üí <strong>Realidade:</strong> Preferem qualidade √† quantidade</li>
                            </ul>
                        </div>

                        <h4>üåü Sua Personalidade Magn√©tica</h4>
                        <p>Introvertidos t√™m um magnetismo √∫nico:</p>
                        <ul>
                            <li>üéØ <strong>Autenticidade:</strong> Voc√™ √© genu√≠no, n√£o artificial</li>
                            <li>üß† <strong>Profundidade:</strong> Suas conversas t√™m subst√¢ncia</li>
                            <li>üíé <strong>Raridade:</strong> Em um mundo de superficialidade, voc√™ √© um diamante</li>
                        </ul>

                        <div class="illustration-container">
                            <h4>üé® Exerc√≠cio de Autoestima</h4>
                            <p>Liste 3 momentos em que sua introvers√£o foi uma vantagem. Pode ser quando voc√™ ouviu algu√©m que precisava desabafar, ou quando sua an√°lise cuidadosa evitou um erro.</p>
                        </div>
                    </div>
                `
            },
            '1-3': { 
                title: "Seus 5 Superpoderes Secretos", 
                points: 100, 
                completed: false, 
                content: `
                    <div class="content-section">
                        <h3>‚ö° Descubra Seus Poderes √önicos</h3>
                        
                        <div class="story-box">
                            <h4>A Revela√ß√£o de Lucas</h4>
                            <p>Lucas sempre invejou a facilidade dos extrovertidos para falar em p√∫blico. At√© descobrir que sua capacidade de prepara√ß√£o meticulosa e conex√£o emocional com a audi√™ncia o tornava um palestrante muito mais impactante que os "naturais".</p>
                        </div>

                        <h4>ü¶∏‚Äç‚ôÇÔ∏è Seus 5 Superpoderes</h4>
                        
                        <div class="superpoder-card" style="border-left-color: #3B82F6;">
                            <h4>1. üéØ Super Foco</h4>
                            <p>Voc√™ consegue se concentrar profundamente em tarefas complexas enquanto outros se distraem. Isso te torna extremamente produtivo e eficiente.</p>
                        </div>

                        <div class="superpoder-card" style="border-left-color: #10B981;">
                            <h4>2. üëÇ Escuta Ativa Avan√ßada</h4>
                            <p>Voc√™ realmente ouve as pessoas, n√£o apenas espera sua vez de falar. Isso cria conex√µes profundas e te d√° insights √∫nicos.</p>
                        </div>

                        <div class="superpoder-card" style="border-left-color: #F59E0B;">
                            <h4>3. üß† Processamento Profundo</h4>
                            <p>Voc√™ analisa informa√ß√µes em camadas, vendo conex√µes que outros perdem. Suas solu√ß√µes s√£o mais criativas e duradouras.</p>
                        </div>

                        <div class="superpoder-card" style="border-left-color: #8B5CF6;">
                            <h4>4. üíé Autenticidade Magn√©tica</h4>
                            <p>Em um mundo de m√°scaras, sua genuinidade atrai pessoas que buscam conex√µes reais. Voc√™ √© um √≠m√£ para relacionamentos significativos.</p>
                        </div>

                        <div class="superpoder-card" style="border-left-color: #EF4444;">
                            <h4>5. üé≠ Prepara√ß√£o Estrat√©gica</h4>
                            <p>Voc√™ se prepara melhor que qualquer um. Quando chega sua hora de brilhar, voc√™ est√° pronto com conte√∫do de qualidade superior.</p>
                        </div>

                        <div class="highlight-box">
                            <h4>üöÄ Ativa√ß√£o dos Superpoderes</h4>
                            <p>Agora que voc√™ conhece seus poderes, √© hora de us√°-los conscientemente. Nos pr√≥ximos m√≥dulos, voc√™ aprender√° t√©cnicas espec√≠ficas para potencializar cada um deles.</p>
                        </div>
                    </div>
                `
            },
            // M√≥dulo 2
            '2-1': { 
                title: "Passo 1: A Prepara√ß√£o Invis√≠vel", 
                points: 80, 
                completed: false, 
                content: `
                    <div class="content-section">
                        <h3>üéØ O Segredo dos Grandes Comunicadores</h3>
                        <p>Todo grande comunicador tem um segredo: a prepara√ß√£o invis√≠vel. Enquanto outros improvisam, voc√™ se prepara estrategicamente.</p>
                        
                        <div class="highlight-box">
                            <h4>A F√≥rmula da Prepara√ß√£o Perfeita:</h4>
                            <ol>
                                <li><strong>Contexto:</strong> Entenda o ambiente e as pessoas</li>
                                <li><strong>Objetivo:</strong> Defina claramente o que quer alcan√ßar</li>
                                <li><strong>Estrutura:</strong> Organize suas ideias em blocos l√≥gicos</li>
                                <li><strong>Ensaio Mental:</strong> Visualize diferentes cen√°rios</li>
                            </ol>
                        </div>
                    </div>
                `
            },
            '2-2': { 
                title: "Passo 2: O Gatilho da Confian√ßa", 
                points: 100, 
                completed: false, 
                content: `
                    <div class="content-section">
                        <h3>üî• Ative Sua Confian√ßa Instantaneamente</h3>
                        <p>Aprenda a t√©cnica do "Gatilho da Confian√ßa" - um m√©todo para acessar seu estado de m√°xima seguran√ßa em segundos.</p>
                        
                        <div class="highlight-box">
                            <h4>T√©cnica do Gatilho:</h4>
                            <ol>
                                <li><strong>√Çncora F√≠sica:</strong> Escolha um gesto discreto</li>
                                <li><strong>Mem√≥ria de Sucesso:</strong> Relembre um momento de vit√≥ria</li>
                                <li><strong>Respira√ß√£o Poderosa:</strong> 4 segundos inspirando, 6 expirando</li>
                                <li><strong>Afirma√ß√£o Interna:</strong> "Eu tenho valor e minha voz importa"</li>
                            </ol>
                        </div>
                    </div>
                `
            },
            '2-3': { 
                title: "Passo 3: A Execu√ß√£o Magn√©tica", 
                points: 120, 
                completed: false, 
                content: `
                    <div class="content-section">
                        <h3>‚ú® Transforme Prepara√ß√£o em Impacto</h3>
                        <p>Agora voc√™ aprender√° a executar com magnetismo, usando sua autenticidade como for√ßa de atra√ß√£o.</p>
                        
                        <div class="highlight-box">
                            <h4>Os 3 Pilares da Execu√ß√£o Magn√©tica:</h4>
                            <ol>
                                <li><strong>Presen√ßa Aut√™ntica:</strong> Seja voc√™ mesmo, intensificado</li>
                                <li><strong>Conex√£o Emocional:</strong> Fale ao cora√ß√£o, n√£o s√≥ √† mente</li>
                                <li><strong>Valor Genu√≠no:</strong> Sempre ofere√ßa algo √∫til</li>
                            </ol>
                        </div>
                    </div>
                `
            },
            // M√≥dulo 3
            '3-1': { 
                title: "Seu Plano de A√ß√£o Personalizado", 
                points: 150, 
                completed: false, 
                content: `
                    <div class="content-section">
                        <h3>üó∫Ô∏è Seu Mapa para o Sucesso</h3>
                        <p>Agora vamos criar seu plano personalizado de transforma√ß√£o, baseado em seus objetivos espec√≠ficos.</p>
                        
                        <div class="highlight-box">
                            <h4>√Åreas de Foco:</h4>
                            <ul>
                                <li>üéØ Apresenta√ß√µes e reuni√µes</li>
                                <li>ü§ù Networking aut√™ntico</li>
                                <li>üíº Lideran√ßa introvertida</li>
                                <li>üó£Ô∏è Conversas dif√≠ceis</li>
                            </ul>
                        </div>
                    </div>
                `
            },
            '3-2': { 
                title: "Lidando com o Medo do Julgamento", 
                points: 130, 
                completed: false, 
                content: `
                    <div class="content-section">
                        <h3>üõ°Ô∏è Blindagem Contra o Julgamento</h3>
                        <p>Aprenda t√©cnicas avan√ßadas para neutralizar o medo do julgamento e se expressar com liberdade total.</p>
                        
                        <div class="highlight-box">
                            <h4>T√©cnicas de Blindagem:</h4>
                            <ol>
                                <li><strong>Reframe Mental:</strong> "Eles est√£o curiosos, n√£o julgando"</li>
                                <li><strong>Foco no Valor:</strong> "O que posso oferecer?"</li>
                                <li><strong>Aceita√ß√£o Radical:</strong> "Nem todos v√£o gostar, e est√° tudo bem"</li>
                            </ol>
                        </div>
                    </div>
                `
            },
        };

        const modules = {
            1: { 
                title: "Desperte Seus Superpoderes", 
                chapters: ['1-1', '1-2', '1-3'], 
                password: "superpoder",
                interaction: `
                    <div class="text-center">
                        <h3>üéâ Parab√©ns! Voc√™ Descobriu Seus Superpoderes!</h3>
                        <p>Agora voc√™ sabe que ser introvertido √© uma vantagem, n√£o uma limita√ß√£o.</p>
                        <div class="bg-blue-100 p-4 rounded-lg mt-4">
                            <h4>üéØ Quiz: Qual √© Seu Superpoder Dominante?</h4>
                            <p>Baseado no que voc√™ aprendeu, qual superpoder voc√™ mais se identifica?</p>
                            <button class="bg-blue-500 text-white px-4 py-2 rounded mt-2">Fazer Quiz</button>
                        </div>
                    </div>
                `
            },
            2: { 
                title: "Domine o M√©todo Destrave na Hora H‚Ñ¢", 
                chapters: ['2-1', '2-2', '2-3'], 
                password: "destrave",
                interaction: `
                    <div class="text-center">
                        <h3>üöÄ Voc√™ Dominou o M√©todo!</h3>
                        <p>Agora voc√™ tem as ferramentas para destravar em qualquer situa√ß√£o.</p>
                        <div class="bg-green-100 p-4 rounded-lg mt-4">
                            <h4>üé≠ Simulador de Situa√ß√µes</h4>
                            <p>Pratique o m√©todo em situa√ß√µes virtuais antes de aplicar na vida real.</p>
                            <button class="bg-green-500 text-white px-4 py-2 rounded mt-2">Iniciar Simula√ß√£o</button>
                        </div>
                    </div>
                `
            },
            3: { 
                title: "Prepare-se para a Transforma√ß√£o", 
                chapters: ['3-1', '3-2'], 
                password: "transforma",
                interaction: `
                    <div class="text-center">
                        <h3>üéì Cerim√¥nia de Gradua√ß√£o Virtual</h3>
                        <p>Voc√™ completou sua prepara√ß√£o! Est√° pronto para os 7 Passos da Transforma√ß√£o.</p>
                        <div class="bg-yellow-100 p-4 rounded-lg mt-4">
                            <h4>üèÜ Certificado de Conclus√£o</h4>
                            <p>Baixe seu certificado de conclus√£o dos m√≥dulos preparat√≥rios.</p>
                            <button class="bg-yellow-500 text-white px-4 py-2 rounded mt-2">Baixar Certificado</button>
                        </div>
                    </div>
                `
            },
        };

        const achievements = {
            1: { name: "Pioneiro", description: "Iniciou a sua jornada de transforma√ß√£o.", unlocked: false },
            2: { name: "Mestre do Mindset", description: "Completou o M√≥dulo 1 e despertou seus superpoderes.", unlocked: false },
            3: { name: "Arquiteto da Confian√ßa", description: "Completou o M√≥dulo 2 e dominou o M√©todo Destrave na Hora H‚Ñ¢.", unlocked: false },
            4: { name: "Pronto para Decolar", description: "Completou o M√≥dulo 3 e est√° pronto para a transforma√ß√£o.", unlocked: false },
            5: { name: "Destravado!", description: "Completou os 7 Passos da Transforma√ß√£o.", unlocked: false },
            6: { name: "Lenda Introvertida", description: "Completou 100% do portal e se tornou uma lenda.", unlocked: false },
        };

        let user = {
            points: 0,
            level: 1,
            status: "Novato Explorador",
            avatar: "üöÄ",
            unlockedModules: { 1: true, 2: false, 3: false }, // M√≥dulo 1 desbloqueado por padr√£o
        };

        const levels = [
            { level: 1, minPoints: 0, status: "Novato Explorador", avatar: "üöÄ" },
            { level: 2, minPoints: 1000, status: "Iniciado na Arte", avatar: "üí°" },
            { level: 3, minPoints: 2500, status: "Comunicador Confiante", avatar: "üéØ" },
            { level: 4, minPoints: 5000, status: "Mestre Introvertido", avatar: "‚≠ê" },
        ];

        // ==================================================
        // FUN√á√ïES PRINCIPAIS DO JOGO
        // ==================================================

        function startJourney() {
            document.getElementById('welcome-screen').classList.remove('active');
            document.getElementById('dashboard-screen').classList.add('active');
            unlockAchievement(1);
            updateUI();
        }

        function openChapter(moduleId, chapterNumber) {
            const chapterId = `${moduleId}-${chapterNumber}`;
            
            // Verifica se o m√≥dulo est√° desbloqueado
            if (!user.unlockedModules[moduleId]) {
                showPasswordPrompt(moduleId);
                return;
            }

            // Verifica se o cap√≠tulo est√° bloqueado (l√≥gica de sequ√™ncia)
            if (isChapterLocked(chapterId)) {
                alert("Voc√™ precisa completar o cap√≠tulo anterior primeiro!");
                return;
            }

            const chapter = chapters[chapterId];
            const screen = document.getElementById('chapter-content-screen');
            
            screen.innerHTML = `
                <div class="bg-white rounded-2xl shadow-lg p-8 animate-fade-in">
                    <button onclick="backToDashboard()" class="bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg mb-6 hover:bg-gray-300 transition-colors">‚Üê Voltar ao Dashboard</button>
                    <h2 class="text-4xl font-bold text-brand-dark mb-4">${chapter.title}</h2>
                    <div class="prose max-w-none lg:prose-xl mb-8">
                        ${chapter.content} 
                    </div>
                    <button onclick="completeChapter('${chapterId}')" class="w-full bg-brand-success text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-green-600 transition-colors">Marcar como Conclu√≠do (+${chapter.points} pts)</button>
                </div>
            `;

            document.getElementById('dashboard-screen').classList.remove('active');
            screen.classList.add('active');
        }

        function completeChapter(chapterId) {
            if (chapters[chapterId].completed) return;

            chapters[chapterId].completed = true;
            user.points += chapters[chapterId].points;
            
            checkModuleCompletion(chapterId.split('-')[0]);
            checkLevelUp();
            updateUI();
            backToDashboard();
        }

        function backToDashboard() {
            document.getElementById('chapter-content-screen').classList.remove('active');
            document.getElementById('dashboard-screen').classList.add('active');
        }

        function showModuleInteraction(moduleId) {
            const module = modules[moduleId];
            document.getElementById('modal-title').innerText = `Intera√ß√£o Final: ${module.title}`;
            document.getElementById('modal-body').innerHTML = module.interaction;
            document.getElementById('generic-modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('generic-modal').classList.remove('active');
        }

        function showAchievementDetails(achId) {
            const achievement = achievements[achId];
            const status = achievement.unlocked ? "Desbloqueada" : "Bloqueada";
            document.getElementById('modal-title').innerText = `Conquista: ${achievement.name}`;
            document.getElementById('modal-body').innerHTML = `<p><strong>Status:</strong> ${status}</p><p>${achievement.description}</p>`;
            document.getElementById('generic-modal').classList.add('active');
        }

        // ==================================================
        // L√ìGICA DE PROGRESS√ÉO E DESBLOQUEIO
        // ==================================================

        function isChapterLocked(chapterId) {
            const [moduleId, chapterNumber] = chapterId.split('-').map(Number);
            
            // Se o m√≥dulo n√£o estiver desbloqueado, o cap√≠tulo est√° bloqueado
            if (!user.unlockedModules[moduleId]) {
                return true;
            }

            // O primeiro cap√≠tulo de cada m√≥dulo est√° sempre desbloqueado se o m√≥dulo estiver desbloqueado
            if (chapterNumber === 1) {
                return false;
            }

            // Verifica se o cap√≠tulo anterior foi completado
            const prevChapterId = `${moduleId}-${chapterNumber - 1}`;
            return !chapters[prevChapterId].completed;
        }

        function checkModuleCompletion(moduleId) {
            const moduleChapters = modules[moduleId].chapters;
            const allCompleted = moduleChapters.every(id => chapters[id].completed);

            if (allCompleted) {
                document.getElementById(`module${moduleId}-interaction-btn`).disabled = false;
                if (moduleId == 1) unlockAchievement(2);
                if (moduleId == 2) unlockAchievement(3);
                if (moduleId == 3) {
                    unlockAchievement(4);
                    unlockSevenSteps();
                }
            }
        }

        function unlockSevenSteps() {
            const container = document.getElementById('seven-steps-container');
            container.classList.remove('opacity-50', 'pointer-events-none');
            // Aqui voc√™ pode adicionar uma anima√ß√£o ou notifica√ß√£o
        }

        function checkLevelUp() {
            const nextLevel = levels.find(l => l.level === user.level + 1);
            if (nextLevel && user.points >= nextLevel.minPoints) {
                user.level = nextLevel.level;
                user.status = nextLevel.status;
                user.avatar = nextLevel.avatar;
                // Adicionar notifica√ß√£o de level up
            }
        }

        function unlockAchievement(achId) {
            if (!achievements[achId].unlocked) {
                achievements[achId].unlocked = true;
                // Adicionar notifica√ß√£o de conquista
            }
        }

        function showPasswordPrompt(moduleId) {
            const moduleTitle = modules[moduleId].title;
            document.getElementById('modal-title').innerText = `Desbloquear M√≥dulo: ${moduleTitle}`;
            document.getElementById('modal-body').innerHTML = `
                <p>Para acessar este m√≥dulo, por favor, insira a senha:</p>
                <input type="password" id="password-input" class="w-full p-2 border border-gray-300 rounded-md mb-4" placeholder="Senha do M√≥dulo">
                <button onclick="checkPassword(${moduleId})" class="w-full bg-brand-blue text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">Desbloquear</button>
                <div class="mt-4 text-sm text-gray-600">
                    <p><strong>Senhas dos m√≥dulos:</strong></p>
                    <p>M√≥dulo 2: "destrave"</p>
                    <p>M√≥dulo 3: "transforma"</p>
                </div>
            `;
            document.getElementById('generic-modal').classList.add('active');
        }

        function checkPassword(moduleId) {
            const passwordInput = document.getElementById('password-input').value;
            if (passwordInput === modules[moduleId].password) {
                user.unlockedModules[moduleId] = true;
                closeModal();
                updateUI();
                alert(`M√≥dulo ${modules[moduleId].title} desbloqueado com sucesso!`);
            } else {
                alert("Senha incorreta. Tente novamente.");
            }
        }

        // ==================================================
        // ATUALIZA√á√ÉO DA INTERFACE
        // ==================================================

        function updateUI() {
            // Header
            document.getElementById('user-points').innerText = user.points;
            document.getElementById('user-level').innerText = user.level;
            document.getElementById('user-status').innerText = user.status;
            document.getElementById('user-avatar').innerText = user.avatar;
            
            const unlockedAchievements = Object.values(achievements).filter(a => a.unlocked).length;
            document.getElementById('user-achievements').innerText = unlockedAchievements;

            const totalChapters = Object.keys(chapters).length;
            const completedChapters = Object.values(chapters).filter(c => c.completed).length;
            const globalProgress = (completedChapters / totalChapters) * 100;
            document.getElementById('global-progress').style.width = `${globalProgress}%`;

            // Dashboard - M√≥dulos
            for (const moduleId in modules) {
                const moduleChapters = modules[moduleId].chapters;
                const completedInModule = moduleChapters.filter(id => chapters[id].completed).length;
                const moduleProgress = (completedInModule / moduleChapters.length) * 100;
                document.getElementById(`module${moduleId}-progress`).innerText = `${Math.round(moduleProgress)}%`;

                // Atualizar status dos cap√≠tulos
                moduleChapters.forEach(chapterId => {
                    const statusEl = document.getElementById(`chapter${chapterId.replace('-', '')}-status`);
                    if (statusEl) {
                        if (chapters[chapterId].completed) {
                            statusEl.innerText = '‚úÖ';
                        } else if (!isChapterLocked(chapterId)) {
                            statusEl.innerText = 'üîì';
                        } else {
                            statusEl.innerText = 'üîí';
                        }
                    }
                });

                // Atualizar status visual do m√≥dulo
                const moduleDiv = document.getElementById(`module-${moduleId}`);
                if (moduleDiv) {
                    if (user.unlockedModules[moduleId]) {
                        moduleDiv.classList.remove('module-locked');
                        moduleDiv.onclick = null;
                    } else {
                        moduleDiv.classList.add('module-locked');
                        moduleDiv.onclick = () => showPasswordPrompt(moduleId);
                    }
                }
            }

            // Lateral - Perfil
            document.getElementById('profile-avatar').innerText = user.avatar;
            document.getElementById('profile-level').innerText = user.level;
            document.getElementById('profile-status').innerText = user.status;

            const currentLevelInfo = levels.find(l => l.level === user.level);
            const nextLevelInfo = levels.find(l => l.level === user.level + 1);
            if (nextLevelInfo) {
                const pointsInLevel = user.points - currentLevelInfo.minPoints;
                const pointsForNextLevel = nextLevelInfo.minPoints - currentLevelInfo.minPoints;
                const levelProgress = (pointsInLevel / pointsForNextLevel) * 100;
                document.getElementById('level-progress').style.width = `${levelProgress}%`;
                document.getElementById('level-progress-text').innerText = `${user.points} / ${nextLevelInfo.minPoints} pontos para o pr√≥ximo n√≠vel`;
            } else {
                document.getElementById('level-progress').style.width = `100%`;
                document.getElementById('level-progress-text').innerText = "N√≠vel M√°ximo Alcan√ßado!";
            }

            // Lateral - Conquistas
            for (const achId in achievements) {
                if (achievements[achId].unlocked) {
                    document.getElementById(`ach${achId}`).classList.add('unlocked');
                }
            }

            // Lateral - Mapa da Jornada
            const journeyContainer = document.getElementById('journey-steps-container');
            journeyContainer.innerHTML = '';
            Object.keys(chapters).forEach(chapterId => {
                const chapter = chapters[chapterId];
                const el = document.createElement('div');
                el.className = 'journey-step';
                if (chapter.completed) el.classList.add('completed');
                // L√≥gica para 'current' pode ser adicionada aqui
                el.innerText = chapter.title;
                journeyContainer.appendChild(el);
            });
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', updateUI);

    </script>

</body>
</html>

